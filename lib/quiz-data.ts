import type { KnowledgeCategory, QuizQuestion, CraftCategory } from "@/types/quiz"

export const GENRE_CATEGORIES = {
  all: {
    name: "おまかせ (All Genres)",
    crafts: [
      // 織物 (38品目)
      "二風谷アットゥシ",
      "置賜紬",
      "羽越しな布",
      "奥会津昭和からむし織",
      "結城紬",
      "伊勢崎絣",
      "桐生織",
      "秩父銘仙",
      "村山大島紬",
      "本場黄八丈",
      "多摩織",
      "塩沢紬",
      "小千谷縮",
      "小千谷紬",
      "本塩沢",
      "十日町絣",
      "十日町明石ちぢみ",
      "信州紬",
      "牛首紬",
      "近江上布",
      "西陣織",
      "弓浜絣",
      "阿波正藍しじら織",
      "博多織",
      "久留米絣",
      "本場大島紬",
      "久米島紬",
      "宮古上布",
      "読谷山花織",
      "読谷山ミンサー",
      "琉球絣",
      "首里織",
      "与那国織",
      "喜如嘉の芭蕉布",
      "知花花織",
      "南風原花織",
      "八重山ミンサー",
      "八重山上布",
      // 染色品 (14品目)
      "東京染小紋",
      "東京手描友禅",
      "東京無地染",
      "東京本染注染",
      "加賀友禅",
      "有松・鳴海絞",
      "京友禅",
      "京鹿の子絞",
      "名古屋友禅",
      "名古屋黒紋付染",
      "十日町友禅",
      "紅型",
      "江戸小紋",
      "長板中形",
      // 陶磁器 (33品目)
      "津軽焼",
      "会津本郷焼",
      "笠間焼",
      "益子焼",
      "九谷焼",
      "越前焼",
      "美濃焼",
      "瀬戸焼",
      "常滑焼",
      "四日市萬古焼",
      "伊賀焼",
      "信楽焼",
      "京焼・清水焼",
      "丹波立杭焼",
      "出石焼",
      "備前焼",
      "赤間硯",
      "萩焼",
      "大谷焼",
      "砥部焼",
      "上野焼",
      "高取焼",
      "小石原焼",
      "伊万里・有田焼",
      "唐津焼",
      "嬉野焼",
      "三川内焼",
      "波佐見焼",
      "現川焼",
      "小代焼",
      "天草陶磁器",
      "薩摩焼",
      "壺屋焼",
      // 漆器 (23品目)
      "津軽塗",
      "浄法寺塗",
      "川連漆器",
      "鳴子漆器",
      "会津漆器",
      "新潟・白根仏壇",
      "村上木彫堆朱",
      "高岡漆器",
      "若狭塗",
      "京漆器",
      "紀州漆器",
      "香川漆器",
      "山中漆器",
      "輪島塗",
      "飛騨春慶",
      "木曽漆器",
      "越前漆器",
      "京仏壇",
      "大内塗",
      "琉球漆器",
      "秀衡塗",
      "津軽塗",
      "越前漆器",
      // 木工品・竹工品 (20品目)
      "樺細工",
      "大館曲げわっぱ",
      "岩谷堂箪笥",
      "仙台箪笥",
      "江戸指物",
      "大川組子",
      "飛騨の家具",
      "一位一刀彫",
      "越前箪笥",
      "京指物",
      "大阪唐木指物",
      "播州そろばん",
      "雲州そろばん",
      "府中家具",
      "箱根寄木細工",
      "駿河竹千筋細工",
      "江戸和竿",
      "別府竹細工",
      "都城大弓",
      "琉球竹富島ビーグ",
      // 金工品 (12品目)
      "南部鉄器",
      "山形鋳物",
      "東京銀器",
      "燕鎚起銅器",
      "高岡銅器",
      "大阪浪華錫器",
      "堺刃物",
      "播州三木打刃物",
      "土佐打刃物",
      "肥後象嵌",
      "薩摩彫金",
      "琉球漆器",
      // 石工品・貴石細工 (8品目)
      "雄勝硯",
      "山梨貴石細工",
      "京石工芸品",
      "出雲石燈籠",
      "岡崎石工品",
      "庵治石製品",
      "天草陶石",
      "琉球石灰岩製品",
      // 人形・こけし (16品目)
      "津軽こけし",
      "遠刈田こけし",
      "弥治郎こけし",
      "作並こけし",
      "鳴子こけし",
      "土湯こけし",
      "木地山こけし",
      "蔵王高湯こけし",
      "肘折こけし",
      "山形こけし",
      "江戸木目込人形",
      "岩槻人形",
      "駿河雛人形",
      "一刀彫",
      "奈良一刀彫",
      "博多人形",
      // 和紙 (9品目)
      "白石和紙",
      "西ノ内紙",
      "烏山和紙",
      "細川紙",
      "本美濃紙",
      "越前和紙",
      "因州和紙",
      "土佐和紙",
      "名塩雁皮紙",
      // 文具 (6品目)
      "会津絵ろうそく",
      "京扇子",
      "江戸からかみ",
      "播州毛鉤",
      "赤間硯",
      "雄勝硯",
      // 仏具・茶道具 (8品目)
      "山形仏壇",
      "新潟・白根仏壇",
      "三条仏壇",
      "京仏壇",
      "彦根仏壇",
      "大阪仏壇",
      "八女福島仏壇",
      "川辺仏壇",
      // 工芸材料・工芸用具 (4品目)
      "奈良筆",
      "熊野筆",
      "川尻筆",
      "豊橋筆",
      // その他の工芸品 (10品目)
      "江戸切子",
      "薩摩切子",
      "津軽びいどろ",
      "江戸硝子",
      "琉球ガラス",
      "甲州印伝",
      "名古屋桐箪笥",
      "加茂桐箪笥",
      "岩谷堂箪笥",
      "府中家具",
    ] as CraftCategory[],
  },
  textiles: {
    name: "織物 (Textiles)",
    crafts: [
      "二風谷アットゥシ",
      "置賜紬",
      "羽越しな布",
      "奥会津昭和からむし織",
      "結城紬",
      "伊勢崎絣",
      "桐生織",
      "秩父銘仙",
      "村山大島紬",
      "本場黄八丈",
      "多摩織",
      "塩沢紬",
      "小千谷縮",
      "小千谷紬",
      "本塩沢",
      "十日町絣",
      "十日町明石ちぢみ",
      "信州紬",
      "牛首紬",
      "近江上布",
      "西陣織",
      "弓浜絣",
      "阿波正藍しじら織",
      "博多織",
      "久留米絣",
      "本場大島紬",
      "久米島紬",
      "宮古上布",
      "読谷山花織",
      "読谷山ミンサー",
      "琉球絣",
      "首里織",
      "与那国織",
      "喜如嘉の芭蕉布",
      "知花花織",
      "南風原花織",
      "八重山ミンサー",
      "八重山上布",
    ] as CraftCategory[],
  },
  dyedGoods: {
    name: "染色品 (Dyed Goods)",
    crafts: [
      "東京染小紋",
      "東京手描友禅",
      "東京無地染",
      "東京本染注染",
      "加賀友禅",
      "有松・鳴海絞",
      "京友禅",
      "京鹿の子絞",
      "名古屋友禅",
      "名古屋黒紋付染",
      "十日町友禅",
      "紅型",
      "江戸小紋",
      "長板中形",
    ] as CraftCategory[],
  },
  pottery: {
    name: "陶磁器 (Pottery & Ceramics)",
    crafts: [
      "津軽焼",
      "会津本郷焼",
      "笠間焼",
      "益子焼",
      "九谷焼",
      "越前焼",
      "美濃焼",
      "瀬戸焼",
      "常滑焼",
      "四日市萬古焼",
      "伊賀焼",
      "信楽焼",
      "京焼・清水焼",
      "丹波立杭焼",
      "出石焼",
      "備前焼",
      "赤間硯",
      "萩焼",
      "大谷焼",
      "砥部焼",
      "上野焼",
      "高取焼",
      "小石原焼",
      "伊万里・有田焼",
      "唐津焼",
      "嬉野焼",
      "三川内焼",
      "波佐見焼",
      "現川焼",
      "小代焼",
      "天草陶磁器",
      "薩摩焼",
      "壺屋焼",
    ] as CraftCategory[],
  },
  lacquerware: {
    name: "漆器 (Lacquerware)",
    crafts: [
      "津軽塗",
      "浄法寺塗",
      "川連漆器",
      "鳴子漆器",
      "会津漆器",
      "新潟・白根仏壇",
      "村上木彫堆朱",
      "高岡漆器",
      "若狭塗",
      "京漆器",
      "紀州漆器",
      "香川漆器",
      "山中漆器",
      "輪島塗",
      "飛騨春慶",
      "木曽漆器",
      "越前漆器",
      "京仏壇",
      "大内塗",
      "琉球漆器",
      "秀衡塗",
      "津軽塗",
      "越前漆器",
    ] as CraftCategory[],
  },
  woodBamboo: {
    name: "木工品・竹工品 (Woodwork & Bamboo)",
    crafts: [
      "樺細工",
      "大館曲げわっぱ",
      "岩谷堂箪笥",
      "仙台箪笥",
      "江戸指物",
      "大川組子",
      "飛騨の家具",
      "一位一刀彫",
      "越前箪笥",
      "京指物",
      "大阪唐木指物",
      "播州そろばん",
      "雲州そろばん",
      "府中家具",
      "箱根寄木細工",
      "駿河竹千筋細工",
      "江戸和竿",
      "別府竹細工",
      "都城大弓",
      "琉球竹富島ビーグ",
    ] as CraftCategory[],
  },
  metalwork: {
    name: "金工品 (Metalwork)",
    crafts: [
      "南部鉄器",
      "山形鋳物",
      "東京銀器",
      "燕鎚起銅器",
      "高岡銅器",
      "大阪浪華錫器",
      "堺刃物",
      "播州三木打刃物",
      "土佐打刃物",
      "肥後象嵌",
      "薩摩彫金",
      "琉球漆器",
    ] as CraftCategory[],
  },
  stonework: {
    name: "石工品・貴石細工 (Stonework)",
    crafts: [
      "雄勝硯",
      "山梨貴石細工",
      "京石工芸品",
      "出雲石燈籠",
      "岡崎石工品",
      "庵治石製品",
      "天草陶石",
      "琉球石灰岩製品",
    ] as CraftCategory[],
  },
  dolls: {
    name: "人形・こけし (Dolls & Kokeshi)",
    crafts: [
      "津軽こけし",
      "遠刈田こけし",
      "弥治郎こけし",
      "作並こけし",
      "鳴子こけし",
      "土湯こけし",
      "木地山こけし",
      "蔵王高湯こけし",
      "肘折こけし",
      "山形こけし",
      "江戸木目込人形",
      "岩槻人形",
      "駿河雛人形",
      "一刀彫",
      "奈良一刀彫",
      "博多人形",
    ] as CraftCategory[],
  },
  paper: {
    name: "和紙 (Japanese Paper)",
    crafts: [
      "白石和紙",
      "西ノ内紙",
      "烏山和紙",
      "細川紙",
      "本美濃紙",
      "越前和紙",
      "因州和紙",
      "土佐和紙",
      "名塩雁皮紙",
    ] as CraftCategory[],
  },
  stationery: {
    name: "文具 (Stationery)",
    crafts: ["会津絵ろうそく", "京扇子", "江戸からかみ", "播州毛鉤", "赤間硯", "雄勝硯"] as CraftCategory[],
  },
  religious: {
    name: "仏具・茶道具 (Religious & Tea Ceremony)",
    crafts: [
      "山形仏壇",
      "新潟・白根仏壇",
      "三条仏壇",
      "京仏壇",
      "彦根仏壇",
      "大阪仏壇",
      "八女福島仏壇",
      "川辺仏壇",
    ] as CraftCategory[],
  },
  materials: {
    name: "工芸材料・工芸用具 (Craft Materials & Tools)",
    crafts: ["奈良筆", "熊野筆", "川尻筆", "豊橋筆"] as CraftCategory[],
  },
  glass: {
    name: "ガラス工芸・その他 (Glass & Others)",
    crafts: [
      "江戸切子",
      "薩摩切子",
      "津軽びいどろ",
      "江戸硝子",
      "琉球ガラス",
      "甲州印伝",
      "名古屋桐箪笥",
      "加茂桐箪笥",
      "岩谷堂箪笥",
      "府中家具",
    ] as CraftCategory[],
  },
  okinawa: {
    name: "沖縄の工芸 (Okinawan Crafts)",
    crafts: [
      "宮古上布",
      "読谷山花織",
      "読谷山ミンサー",
      "琉球絣",
      "首里織",
      "与那国織",
      "喜如嘉の芭蕉布",
      "知花花織",
      "南風原花織",
      "八重山ミンサー",
      "八重山上布",
      "紅型",
      "琉球漆器",
      "壺屋焼",
      "琉球ガラス",
      "琉球竹富島ビーグ",
      "琉球石灰岩製品",
    ] as CraftCategory[],
  },
  hokkaido: {
    name: "北海道・東北の工芸 (Hokkaido & Tohoku Crafts)",
    crafts: [
      "二風谷アットゥシ",
      "樺細工",
      "大館曲げわっぱ",
      "津軽焼",
      "津軽塗",
      "津軽こけし",
      "津軽びいどろ",
      "置賜紬",
      "羽越しな布",
      "岩谷堂箪笥",
      "仙台箪笥",
      "会津本郷焼",
      "会津漆器",
      "会津絵ろうそく",
      "奥会津昭和からむし織",
      "浄法寺塗",
      "川連漆器",
      "鳴子漆器",
      "鳴子こけし",
      "遠刈田こけし",
      "弥治郎こけし",
      "作並こけし",
      "土湯こけし",
      "木地山こけし",
      "蔵王高湯こけし",
      "肘折こけし",
      "山形こけし",
      "山形鋳物",
      "山形仏壇",
      "南部鉄器",
      "雄勝硯",
      "白石和紙",
      "秀衡塗",
    ] as CraftCategory[],
  },
}

export function calculateQuizResults(
  questions: QuizQuestion[],
  answers: (string | null)[],
  completionTime: number,
): any {
  const correctAnswers = answers.filter((answer, index) => answer === questions[index]?.answer).length

  const accuracy = (correctAnswers / questions.length) * 100

  const categoryBreakdown: Record<KnowledgeCategory, { correct: number; total: number }> = {
    history: { correct: 0, total: 0 },
    geography: { correct: 0, total: 0 },
    materials: { correct: 0, total: 0 },
    usage: { correct: 0, total: 0 },
    design: { correct: 0, total: 0 },
    trivia: { correct: 0, total: 0 },
  }

  questions.forEach((question, index) => {
    categoryBreakdown[question.category].total++
    if (answers[index] === question.answer) {
      categoryBreakdown[question.category].correct++
    }
  })

  return {
    totalQuestions: questions.length,
    correctAnswers,
    accuracy,
    completionTime,
    categoryBreakdown,
  }
}
